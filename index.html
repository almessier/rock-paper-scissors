<!DOCTYPE html>
<html>
<head>
  <title>Rock-Paper-Scissors</title>
  <meta charset="UTF-8"/>
  <style>

  </style>
</head>
<body>
    <div id="container">
        <button id="start">Start</button>
    </div>
  <script>
    const start = document.querySelector('#start');
    start.addEventListener('click', () => {
        game();
    });
    function game() {
        let i;
        let computerScore = 0;
        let playerScore = 0;
        for (i = 0; i < 5; i++) {
            let playerSelection = prompt('Rock, Paper, or Scissors?');
            let computerSelection = computerPlay();
            console.log(playRound(playerSelection, computerSelection));
            if(playRound(playerSelection, computerSelection).slice(4,8) == 'Lose'){
                computerScore++;
                console.log('Player: ' + playerScore + ' Computer: ' + computerScore);
                if(computerScore === 3){
                    break;
                }
                else {
                    continue;
                }
            } else if (playRound(playerSelection, computerSelection).slice(4,7) == 'Win'){
                playerScore++;
                console.log('Player: ' + playerScore + ' Computer: ' + computerScore);
                if(playerScore === 3){
                    break;
                }
                else {
                    continue;
                }
            } else {
                i--;
                console.log('Player: ' + playerScore + ' Computer: ' + computerScore);
            }
        }
        if(playerScore > computerScore) {
            console.log('You won the best of 5!')
        } else if (playerScore < computerScore) {
            console.log('You lost the best of 5!')
        } else {
            console.log('You tied the best of 5!')
        }
        function computerPlay() {
            let pickedInteger = Math.floor(Math.random() * 3);
            if (pickedInteger === 0){
                return 'Rock';
            } else if (pickedInteger === 1){
                return 'Paper';
            } else if (pickedInteger === 2){
                return 'Scissors';
            } else {
                return '';
            }
        }
        function playRound(playerSelection, computerSelection) {
            let lower = playerSelection.toLowerCase();
            let firstLetter = lower.slice(0,1);
            let properSelection = lower.replace(firstLetter,firstLetter.toUpperCase())
            if (properSelection == 'Rock' && computerSelection == 'Rock'||properSelection == 'Paper' && computerSelection == 'Paper'||properSelection == 'Scissors' && computerSelection == 'Scissors'){
                return 'You Draw!'
            } else if (properSelection == 'Rock' && computerSelection == 'Paper'){
                return 'You Lose! Paper beats Rock';
            } else if (properSelection == 'Rock' && computerSelection == 'Scissors'){
                return 'You Win! Rock beats Scissors';
            } else if (properSelection == 'Paper' && computerSelection == 'Rock'){
                return 'You Win! Paper beats Rock';
            } else if (properSelection == 'Paper' && computerSelection == 'Scissors'){
                return 'You Lose! Scissors beats Paper';
            } else if (properSelection == 'Scissors' && computerSelection == 'Rock'){
                return 'You Lose! Rock beats Scissors';
            } else if (properSelection == 'Scissors' && computerSelection == 'Paper'){
                return 'You Win! Scissors beats Paper';
            } else {
                return 'Your selection was invalid.';
            }
        }
    }
  </script>
</body>
</html>